security:
  admin:
    allow-all: true

spring:
  profiles:
    active: dev

  application:
    name: bookvexe-be-j2e

  datasource:
    url: jdbc:mysql://localhost:3306/bookvexedb_j2e
    username: root
    password: ""

  jpa:
    show-sql: true
    hibernate:
      ddl-auto: none  # ddl-auto was originally set to update, now explicitly none
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQLDialect
    # log SQL binding parameters to get the actual values of a query parameter
  # spring.jpa.hibernate.ddl-auto: update

  # spring.autoconfigure.exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration

  flyway:
    enabled: true
    locations: classpath:db/migration

  docker:
    compose:
      enabled: false

  security:
    oauth2:
      resourceserver:
      # jwt:
      #   issuer-uri: http://localhost:8081/realms/smb-j2e
      client:
        registration:
          # Keycloak UI client
          # keycloak-ui:
          #   client-id: smb-j2e
          #   client-secret: your-ui-client-secret
          #   authorization-grant-type: authorization_code
          #   redirect-uri: "{baseUrl}/login/oauth2/code/keycloak-ui"
          #   scope:
          #     - openid
          #     - profile
          #     - email
          #   provider: keycloak

          # Keycloak Swagger client
          # keycloak-swagger:
          #   client-id: smb-j2e-swagger-client
          #   client-secret: jg7f6iXs8iGRYgAfttcWLsT0cG7VyViI
          #   authorization-grant-type: authorization_code
          #   redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
          #   scope:
          #     - openid
          #     - profile
          #     - email
          #   provider: keycloak

          google:
            client-id: ${GOOGLE_CLIENT_ID:}
            client-secret: ${GOOGLE_CLIENT_SECRET:}
            scope:
              - email
              - profile

        #        provider:
        # keycloak:
        #   issuer-uri: http://localhost:8081/realms/smb-j2e

logging:
  level:
    org:
      hibernate:
        orm:
          jdbc:
            bind: trace
      springframework:
        web: DEBUG  # Log incoming HTTP requests and mappings
        web.servlet.DispatcherServlet: DEBUG
        web.servlet.mvc.method.annotation.RequestMappingHandlerMapping: DEBUG
        security: DEBUG  # Log security decisions
        security.web.FilterChainProxy: DEBUG
      flywaydb: DEBUG

server:
  port: 5181

app:
  jwt:
    secret: "your-very-secure-secret-key-that-is-at-least-32-characters-long"
    expiration:
      ms: 86400000 # 24 hours
    refresh-expiration:
      ms: 604800000 # 7 days
